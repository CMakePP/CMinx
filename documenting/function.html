

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Documenting a Function &mdash; CMinx v1.1.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Documenting a Macro" href="macro.html" />
    <link rel="prev" title="Documenting a Module" href="module.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CMinx
          

          
          </a>

          
            
            
              <div class="version">
                1.1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuring CMinx</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using CMinx to Document Your Code</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="types_of_comments.html">Types of Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html">Documenting a Module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Documenting a Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-function-documentation">Basic Function Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documenting-keyword-arguments">Documenting Keyword Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recommended-rest-directives">Recommended reST Directives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="macro.html">Documenting a Macro</a></li>
<li class="toctree-l2"><a class="reference internal" href="variable.html">Documenting a Variable</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmaketest.html">Documenting a CMakeTest Test</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../full_example.html">Example CMinx/Sphinx Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">CMinx Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CMinx</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Using CMinx to Document Your Code</a> &raquo;</li>
        
      <li>Documenting a Function</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/CMakePP/CMinx/edit/master/docs/source/documenting/function.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="documenting-a-function">
<h1>Documenting a Function<a class="headerlink" href="#documenting-a-function" title="Permalink to this heading">¶</a></h1>
<p>CMinx more or less copies your documentation comments verbatim to the resulting
reST file. Strictly speaking this means you can put whatever you want in the
comments; however, it is strongly recommended that you follow usual Python reST
conventions so that you can get the most out of Sphinx’s parsing of the reST
file. A good template is:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c">#[[[</span>
<span class="c"># Short description. Runs up to the first blank line. So this is still the</span>
<span class="c"># short description.</span>
<span class="c">#</span>
<span class="c"># Longer description goes here and includes all text and paragraphs from</span>
<span class="c"># here forward that are not part of reST directives.</span>
<span class="c">#</span>
<span class="c"># The parameters, keywords, and their types will be pulled out of the longer</span>
<span class="c"># description and placed in separate sections regardless of where they</span>
<span class="c"># appear.</span>
<span class="c">#</span>
<span class="c"># :param name_of_param: Description of what `name_of_param` is used for</span>
<span class="c">#</span>
<span class="c"># The next line is a reST directive and will not be part of the longer</span>
<span class="c"># description.</span>
<span class="c">#</span>
<span class="c"># .. note::</span>
<span class="c">#</span>
<span class="c">#    This is a note, it will show up using reST&#39;s native note section</span>
<span class="c">#]]</span>
</pre></div>
</div>
<p>The following sections describe the aspects of this template in more detail.</p>
<section id="basic-function-documentation">
<h2>Basic Function Documentation<a class="headerlink" href="#basic-function-documentation" title="Permalink to this heading">¶</a></h2>
<p>As an example consider the very simple CMake function <code class="docutils literal notranslate"><span class="pre">say_hi_to</span></code> defined as:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">function</span><span class="p">(</span><span class="s">say_hi_to</span><span class="w"> </span><span class="s">person</span><span class="p">)</span>
<span class="w">    </span><span class="nb">message</span><span class="p">(</span><span class="s2">&quot;Hi ${person}&quot;</span><span class="p">)</span>
<span class="nb">endfunction</span><span class="p">()</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">say_hi_to</span></code> takes one positional argument <code class="docutils literal notranslate"><span class="pre">person</span></code> which is the name of the
person we want to say hi to.  For documenting positional arguments it is
recommended you use the <code class="docutils literal notranslate"><span class="pre">:param:</span></code> field like:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c">#[[[</span>
<span class="c"># This function has very basic documentation.</span>
<span class="c">#</span>
<span class="c"># This function&#39;s description stays close to idealized formatting and does not</span>
<span class="c"># do anything fancy.</span>
<span class="c">#</span>
<span class="c"># :param person: The person this function says hi to</span>
<span class="c"># :type person: string</span>
<span class="c">#]]</span>
<span class="nb">function</span><span class="p">(</span><span class="s">say_hi_to</span><span class="w"> </span><span class="s">person</span><span class="p">)</span>
<span class="w">    </span><span class="nb">message</span><span class="p">(</span><span class="s2">&quot;Hi ${person}&quot;</span><span class="p">)</span>
<span class="nb">endfunction</span><span class="p">()</span>
</pre></div>
</div>
<p>Running CMinx on the documented code will generate:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> say_hi_to(person)

   This function has very basic documentation.
   
   This function&#39;s description stays close to idealized formatting and does not
   do anything fancy.
   
   <span class="nc">:param person:</span> The person this function says hi to
   <span class="nc">:type person:</span> string
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since CMake is an interpreted language, it may not be obvious at first, but
CMake does have types. In one context or another, native CMake distinguishes
among: booleans, command names, file paths, floating-point numbers, integers,
generator expressions, target names, strings, and lists. A list can contain
any of the aforementioned types (including other lists) and all objects can
be implicitly converted to stings.</p>
</div>
<p>The documentation comment has three parts:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># This function has very basic documentation.
</pre></div>
</div>
<p>is the short/brief description; it’s used to quickly summarize what the function
does. The short description is often used when a user is trying to quickly
ascertain what functionality a CMake module provides.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># This function&#39;s description stays close to idealized formatting and does not
# do anything fancy.
</pre></div>
</div>
<p>is the detailed description; it’s used to provide more in depth documentation
beyond the brief description. Finally,</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># :param person: The person this function says hi to
# :type person: string
</pre></div>
</div>
<p>documents the positional arguments to the function including how they are used
and what their types.</p>
</section>
<section id="documenting-keyword-arguments">
<h2>Documenting Keyword Arguments<a class="headerlink" href="#documenting-keyword-arguments" title="Permalink to this heading">¶</a></h2>
<p>In modern CMake it is common practice for functions that accept many
arguments, to accept those arguments as keyword arguments instead of
positional arguments. As an example consider an “advanced” version of
<code class="docutils literal notranslate"><span class="pre">say_hi_to</span></code> defined as:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">function</span><span class="p">(</span><span class="s">advanced_say_hi_to</span><span class="w"> </span><span class="s">me</span><span class="p">)</span>
<span class="w">    </span><span class="nb">cmake_parse_arguments</span><span class="p">(</span><span class="s">PARSE_ARGV</span><span class="w"> </span><span class="s">1</span><span class="w"> </span><span class="s">_asht</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;PERSONS;CATS&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nb">message</span><span class="p">(</span><span class="s2">&quot;I, ${me}, want to say hi to the following &quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nb">message</span><span class="p">(</span><span class="s2">&quot;people: ${_asht_PERSONS} and the following cats: ${_asht_CATS}&quot;</span><span class="p">)</span>
<span class="nb">endfunction</span><span class="p">()</span>
</pre></div>
</div>
<p>Although not strictly necessary, most CMake function implementations handle
keyword arguments by calling <code class="docutils literal notranslate"><span class="pre">cmake_parse_arguments</span></code>. The arguments to
<code class="docutils literal notranslate"><span class="pre">cmake_parse_arguments</span></code> are the keywords the function recognizes; in this
example the keyword arguments are <code class="docutils literal notranslate"><span class="pre">PERSONS</span></code> and <code class="docutils literal notranslate"><span class="pre">CATS</span></code> (see
<a class="reference external" href="https://cmake.org/cmake/help/latest/command/cmake_parse_arguments.html">here</a>
for more details about <code class="docutils literal notranslate"><span class="pre">cmake_parse_arguments</span></code>).</p>
<p>Documenting keyword arguments is similar to documenting positional parameters
except that instead of using the <code class="docutils literal notranslate"><span class="pre">:param:</span></code> field, one uses <code class="docutils literal notranslate"><span class="pre">:keyword:</span></code>:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c">#[[[</span>
<span class="c"># Variation of say_hi_to, which takes lists of people and cats to say hi to.</span>
<span class="c">#</span>
<span class="c"># This function is basically the same as ``say_hi_to``, but accounts for the</span>
<span class="c"># fact that you may want to say hi to multiple people and maybe even a cat or</span>
<span class="c"># two.</span>
<span class="c">#</span>
<span class="c"># :param me: The name of the person saying hi.</span>
<span class="c"># :type me: string</span>
<span class="c">#</span>
<span class="c"># **Keyword Arguments**</span>
<span class="c">#</span>
<span class="c"># :keyword PERSONS: The person or persons to say hi to.</span>
<span class="c"># :type PERSONS: list of strings</span>
<span class="c"># :keyword CATS: The cat or cats to say hi to.</span>
<span class="c"># :type CATS: list of strings</span>
<span class="c">#]]</span>
<span class="nb">function</span><span class="p">(</span><span class="s">advanced_say_hi_to</span><span class="w"> </span><span class="s">me</span><span class="p">)</span>
<span class="w">    </span><span class="nb">cmake_parse_arguments</span><span class="p">(</span><span class="s">PARSE_ARGV</span><span class="w"> </span><span class="s">1</span><span class="w"> </span><span class="s">_asht</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;PERSONS;CATS&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nb">message</span><span class="p">(</span><span class="s2">&quot;I, ${me}, want to say hi to the following &quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nb">message</span><span class="p">(</span><span class="s2">&quot;people: ${_asht_PERSONS} and the following cats: ${_asht_CATS}&quot;</span><span class="p">)</span>
<span class="nb">endfunction</span><span class="p">()</span>
</pre></div>
</div>
<p>Running CMinx on this code generates:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> advanced_say_hi_to(me **kwargs)

   Variation of say_hi_to, which takes lists of people and cats to say hi to.
   
   This function is basically the same as <span class="s">``say_hi_to``</span>, but accounts for the
   fact that you may want to say hi to multiple people and maybe even a cat or
   two.
   
   <span class="nc">:param me:</span> The name of the person saying hi.
   <span class="nc">:type me:</span> string
   
   <span class="gs">**Keyword Arguments**</span>
   
   <span class="nc">:keyword PERSONS:</span> The person or persons to say hi to.
   <span class="nc">:type PERSONS:</span> list of strings
   <span class="nc">:keyword CATS:</span> The cat or cats to say hi to.
   <span class="nc">:type CATS:</span> list of strings
</pre></div>
</div>
<p>Notice how the function signature was automatically
updated to include a <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> parameter. CMinx will do
this for any function that calls <code class="docutils literal notranslate"><span class="pre">cmake_parse_arguments</span></code> or
includes <code class="docutils literal notranslate"><span class="pre">:keyword</span></code> in its doc comment, the latter of which
is configurable. If this is not desired, it can be turned
off through the configuration file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While it is recommended that you document positional arguments differently
than keyword arguments by using <code class="docutils literal notranslate"><span class="pre">:param:</span></code> vs. <code class="docutils literal notranslate"><span class="pre">:keyword:</span></code> the resulting
HTML documentation may end up rendering the two the same. Thus, one should
place a separator to clearly define which are keyword arguments.</p>
</div>
<p>CMake arguments can not only be keywords, where a value is supplied after the keyword,
but can also be switches or options, where the keyword itself toggles the option and
no subsequent value is passed. For these arguments, document them as part of the
keyword arguments but set the type as <code class="docutils literal notranslate"><span class="pre">option</span></code>.</p>
</section>
<section id="recommended-rest-directives">
<h2>Recommended reST Directives<a class="headerlink" href="#recommended-rest-directives" title="Permalink to this heading">¶</a></h2>
<p>reST’s default set of directives encompasses many language nuances which are
not found in the CMake language. Of the default reST directives, the ones that
map directly to aspects of the CMake language are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">:param</span> <span class="pre">&lt;name</span> <span class="pre">of</span> <span class="pre">parameter&gt;:</span> <span class="pre">&lt;description</span> <span class="pre">of</span> <span class="pre">parameter&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">:keyword</span> <span class="pre">&lt;name</span> <span class="pre">of</span> <span class="pre">keyword&gt;:</span> <span class="pre">&lt;description</span> <span class="pre">of</span> <span class="pre">keyword&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">:type</span> <span class="pre">&lt;name</span> <span class="pre">of</span> <span class="pre">parameter&gt;:</span> <span class="pre">&lt;type</span> <span class="pre">of</span> <span class="pre">parameter</span> <span class="pre">named</span> <span class="pre">&quot;name</span> <span class="pre">of</span> <span class="pre">parameter&quot;&gt;</span></code></p></li>
</ul>
<p>Respectively these document: positional arguments, keyword arguments (<em>i.e.</em>,
arguments to be parsed by <code class="docutils literal notranslate"><span class="pre">cmake_parse_arguments</span></code>), and the type of a
positional argument or keyword. Unlike most languages CMake does not natively
support returns.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="macro.html" class="btn btn-neutral float-right" title="Documenting a Macro" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="module.html" class="btn btn-neutral float-left" title="Documenting a Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, CMakePP Team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>